<section class="section" id="weekly-reports">
  <h2>ðŸ“Š Weekly Reports</h2>
  <div id="reports-container">
    <p>Loading reports...</p>
  </div>
</section>

<script>
  fetch('./reports/index.json')
    .then(response => response.json())
    .then(reports => {
      const container = document.getElementById('reports-container');
      container.innerHTML = ''; // Clear "Loading..."
      if (reports.length === 0) {
        container.innerHTML = '<p>No reports available yet.</p>';
        return;
      }

      // Latest report
      const latest = reports[0];
      const latestCard = document.createElement('div');
      latestCard.className = 'card';
      latestCard.innerHTML = `
        <p>Check out the latest HTML report with visual analysis and insights.</p>
        <a href="./reports/${latest}">Latest Report â†’</a>
      `;
      container.appendChild(latestCard);

      // Link to all reports
      const allReportsCard = document.createElement('div');
      allReportsCard.className = 'card';
      allReportsCard.innerHTML = `
        <a href="./reports/">View All Reports â†’</a>
      `;
      container.appendChild(allReportsCard);
    })
    .catch(error => {
      document.getElementById('reports-container').innerHTML = '<p>Error loading reports.</p>';
      console.error('Error fetching reports:', error);
    });
</script>
